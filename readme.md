- first set up github with oauth app details with the ngrok static url:

![alt text](image.png)

- Set env variables as follows

```.env
WOODPECKER_OPEN=true
WOODPECKER_HOST=https://<ngrok static domain> # this is ngrok url
WOODPECKER_GITHUB=true
# github client id generated by github
WOODPECKER_GITHUB_CLIENT=<from github> 
# github token id generated by github
WOODPECKER_GITHUB_SECRET=<from github> 
# secret generated by running cmd: openssl rand -hex 32
WOODPECKER_AGENT_SECRET=<generated by the above comment>
# this server port is used for agents to communicate to server using grpc port
WOODPECKER_SERVER=woodpecker-server:9000
# ngrok auth token
NGROK_AUTHTOKEN=<ngrok auth token>
# ngrok static domain
NGROK_URL=<ngrok static domain>
```

- run docker compose up to start ci:

```sh
make start-ci
```

- Adding secrets based on ```from_secret``` variable 

- Add docker username and docker password to the ui through secrets

- Add the private key ssh to the secrets through ui add new lines in the begining and end and all the places properly otherwise you will get import error

```sh
cat ~/.ssh/id_ed25519
```